(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-forum-detail-forum-detail"],{"01f7":function(e,t,i){"use strict";var n=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("c5f6"),i("a481"),i("28a5"),i("96cf");var r=n(i("3b8d")),a=n(i("f8c1")),o={components:{userReply:a.default},data:function(){return{commentData:[],forum:{},id:"",likeType:!1,likeForm:{},allZan:0,collectType:!1,collectForm:{},allCollect:0,reportForm:{forumid:"",title:"",userid:uni.getStorageSync("appUserid"),username:uni.getStorageSync("nickname"),reporteduserid:"",reportedusername:"",reason:"",picture:"",handleadvise:"",status:"处理中",reporttype:"主题帖举报"},picList:[],swiperList:[]}},computed:{baseUrl:function(){return this.$base.url},userid:function(){return uni.getStorageSync("appUserid")}},onLoad:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.id=t.id,this.init();case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),onShow:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=uni.getStorageSync("forumComType"),t&&(uni.removeStorageSync("forumComType"),this.init());case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{init:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$api.forumDetail(this.id);case 2:t=e.sent,this.swiperList=t.data.cover?t.data.cover.split(","):[],t.data.childs=this.changeContent(t.data.childs),this.commentData=t.data.childs,t.data.content=t.data.content.replace(/img src/gi,'img style="width:100%;" src'),this.forum=t.data,this.getLike(),this.getAllZan(),this.getCollect(),this.getAllCollect();case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),imgView:function(e,t){var i=this;uni.showActionSheet({itemList:["预览","删除"],success:function(n){if(0==n.tapIndex){var r=[];for(var a in i.picList)r.push(i.baseUrl+i.picList[a]);uni.previewImage({current:i.baseUrl+e,urls:r})}else 1==n.tapIndex&&i.picList.splice(t,1)}})},imgView2:function(e){var t=[];for(var i in this.swiperList)t.push("http"==this.swiperList[i].substr(0,4)?this.swiperList[i]:this.baseUrl+this.swiperList[i]);uni.previewImage({current:e,urls:t})},uploadImg:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.next=3,this.$api.upload((function(e){t.picList.push("upload/"+e.file),t.$forceUpdate()}));case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),reportClick:function(){this.reportForm.forumid=this.forum.id,this.reportForm.title=this.forum.title,this.reportForm.reporteduserid=this.forum.userid,this.reportForm.reportedusername=this.forum.username,this.reportForm.reason="",this.reportForm.picture="",this.picList=[],this.$refs.reports.open()},onCloseWinTap:function(){this.$refs.reports.close()},onFinishTap:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.reportForm.reason){e.next=3;break}return this.$utils.msg("举报原因不能为空"),e.abrupt("return",!1);case 3:return this.picList.length&&(this.reportForm.picture=this.picList.join(",")),e.next=6,this.$api.add("forumreport",this.reportForm);case 6:this.$utils.msg("提交成功"),this.$refs.reports.close();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllZan:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$api.list("storeup",{page:1,type:"21",tablename:"forum",refid:Number(this.id)});case 2:t=e.sent,this.allZan=Number(t.data.total);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getLike:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$api.list("storeup",{page:1,limit:1,type:"21",userid:uni.getStorageSync("appUserid"),refid:Number(this.id),tablename:"forum"});case 2:t=e.sent,t.data.list.length?(this.likeType=!0,this.likeForm=t.data.list[0]):this.likeType=!1;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),likeClick:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,!this.likeType){e.next=5;break}uni.showModal({title:"提示",content:"是否取消点赞？",success:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(i){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!i.confirm){e.next=6;break}return e.next=3,t.$api.del("storeup",JSON.stringify([t.likeForm.id]));case 3:t.$utils.msg("取消成功"),t.getLike(),t.getAllZan();case 6:case"end":return e.stop()}}),e)})));function i(t){return e.apply(this,arguments)}return i}()}),e.next=10;break;case 5:return e.next=7,t.$api.add("storeup",{userid:uni.getStorageSync("appUserid"),refid:Number(this.id),type:"21",name:this.forum.title,picture:this.swiperList[0],tablename:"forum"});case 7:this.$utils.msg("点赞成功"),this.getLike(),this.getAllZan();case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getAllCollect:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$api.list("storeup",{page:1,type:"1",tablename:"forum",refid:Number(this.id)});case 2:t=e.sent,this.allCollect=Number(t.data.total);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getCollect:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$api.list("storeup",{page:1,limit:1,type:"1",userid:uni.getStorageSync("appUserid"),refid:Number(this.id),tablename:"forum"});case 2:t=e.sent,t.data.list.length?(this.collectType=!0,this.collectForm=t.data.list[0]):this.collectType=!1;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),collectClick:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this,!this.collectType){e.next=5;break}uni.showModal({title:"提示",content:"是否取消收藏？",success:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(i){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!i.confirm){e.next=6;break}return e.next=3,t.$api.del("storeup",JSON.stringify([t.collectForm.id]));case 3:t.$utils.msg("取消成功"),t.getCollect(),t.getAllCollect();case 6:case"end":return e.stop()}}),e)})));function i(t){return e.apply(this,arguments)}return i}()}),e.next=10;break;case 5:return e.next=7,t.$api.add("storeup",{userid:uni.getStorageSync("appUserid"),refid:Number(this.id),type:"1",name:this.forum.title,picture:this.swiperList[0],tablename:"forum"});case 7:this.$utils.msg("收藏成功"),this.getCollect(),this.getAllCollect();case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),changeContent:function(e){return e&&null!=e&&e.length&&(e=t(e)),e;function t(e){for(var i in e)e[i].content=e[i].content.replace(/img src/gi,'img style="width:100%;" src'),e[i].childs&&(e[i].childs=t(e[i].childs));return e}},onReplyTap:function(e){this.$utils.jump("../forum-reply/forum-reply?pid=".concat(e))},delClick:function(e){var t=this;uni.showModal({title:"提示",content:"是否删除此评论？",success:function(){var i=(0,r.default)(regeneratorRuntime.mark((function i(n){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!n.confirm){i.next=5;break}return i.next=3,t.$api.del("forum",JSON.stringify([e]));case 3:t.$utils.msg("删除成功"),setTimeout((0,r.default)(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$api.forumDetail(t.id);case 2:i=e.sent,i.data.childs=t.changeContent(i.data.childs),t.commentData=i.data.childs;case 5:case"end":return e.stop()}}),e)}))),1500);case 5:case"end":return i.stop()}}),i)})));function n(e){return i.apply(this,arguments)}return n}()})}}};t.default=o},"03bc":function(e,t,i){"use strict";i.r(t);var n=i("e8e2"),r=i.n(n);for(var a in n)"default"!==a&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t["default"]=r.a},"25aa":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,".article-meta[data-v-390f2180]{display:-webkit-box;display:-webkit-flex;display:flex;\n\t\t/* align-items: center; */-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;background:#fdfdfd;border:1px #ddd solid;border-radius:%?10?%;margin-bottom:%?20?%;padding:%?5?%}.article-meta-box[data-v-390f2180]{padding-top:%?20?%;padding-left:%?10?%;padding-bottom:0;display:-webkit-box;display:-webkit-flex;display:flex;\n\t\t/* align-items: center; */-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;color:grey}.article-header-image[data-v-390f2180]{width:%?60?%;height:%?60?%;-webkit-flex-shrink:0;flex-shrink:0;\n        /* border-radius: 50%; */overflow:hidden}.article-header-image .image[data-v-390f2180]{width:100%;height:100%}.article-header-content[data-v-390f2180]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;font-size:%?24?%;line-height:1;\n\t\t/* width: 100%; */padding-left:10px;padding-right:%?20?%\n\t\t/* height: 60rpx; */}.article-header-title[data-v-390f2180]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?26?%;line-height:1;color:#000}.article-header-title-text[data-v-390f2180]{line-height:1.2}.article-top[data-v-390f2180]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end;font-size:%?26?%;color:#999;line-height:1}.article-top .image[data-v-390f2180]{width:%?30?%;margin-left:%?5?%}.article-header-info[data-v-390f2180]{margin-top:%?10?%;font-size:%?24?%;line-height:1}.uni-article__comment-centent[data-v-390f2180]{padding:%?20?%;padding-left:0;color:#333;font-size:%?28?%;width:100%}.btn-replay[data-v-390f2180]{color:red;float:right}",""]),e.exports=t},"44c6":function(e,t,i){"use strict";var n,r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",[i("v-uni-view",{staticClass:"article-meta"},[e.newData.childs?i("user-reply",{attrs:{digest:e.newData.childs}}):e._e(),i("v-uni-view",{staticClass:"article-meta-box"},[i("v-uni-view",{staticClass:"article-header-image"},[i("v-uni-image",{staticClass:"image",attrs:{src:e.baseUrl+e.newData.avatarurl,mode:"widthFix"}})],1),i("v-uni-view",{staticStyle:{width:"100%"}},[i("v-uni-view",{staticClass:"article-header-content"},[i("v-uni-view",{staticClass:"article-header-title"},[e._v(e._s(e.newData.username))]),i("v-uni-view",{staticClass:"article-header-info"},[e._v(e._s(e.newData.addtime||""))])],1),i("v-uni-view",{staticClass:"uni-article__comment-centent"},[i("v-uni-rich-text",{attrs:{nodes:e.newData.content}}),i("v-uni-text",{staticClass:"btn-replay",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onReplyTap(e.newData.id)}}},[e._v("回复")])],1)],1)],1)],1)],1)},a=[];i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return n}))},"5c05":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\n/* 颜色变量 */\n/* 行为相关颜色 */\n/* 文字基本颜色 */\n/* 背景颜色 */\n/* 边框颜色 */\n/* 尺寸变量 */\n/* 文字尺寸 */\n/* 图片尺寸 */\n/* Border Radius */\n/* 水平间距 */\n/* 垂直间距 */\n/* 透明度 */\n/* 文章场景相关 */uni-page-body[data-v-ece3d184]{background:#fff}.title[data-v-ece3d184]{text-align:center;font-size:%?40?%;font-weight:700;margin:%?20?%}.username[data-v-ece3d184]{text-align:center;font-size:%?20?%;font-weight:700;color:#888;margin:%?20?%}.content[data-v-ece3d184]{margin:%?40?%;font-size:%?30?%;line-height:%?50?%;letter-spacing:%?5?%}.article-meta[data-v-ece3d184]{padding:%?20?% %?20?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;color:grey}.article-header-image[data-v-ece3d184]{width:%?60?%;height:%?60?%;-webkit-flex-shrink:0;flex-shrink:0;\n  /* border-radius: 50%; */overflow:hidden}.article-header-image .image[data-v-ece3d184]{width:100%;height:100%}.article-header-content[data-v-ece3d184]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding-left:10px;font-size:%?24?%;line-height:1;width:100%\n  /* height: 60rpx; */}.article-header-title[data-v-ece3d184]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-box-align:center;-webkit-align-items:center;align-items:center;font-size:%?26?%;line-height:2;color:#000}.article-header-info[data-v-ece3d184]{font-size:%?24?%;line-height:1}.article-top[data-v-ece3d184]{display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:end;-webkit-align-items:flex-end;align-items:flex-end;font-size:%?26?%;line-height:1;color:#999}.article-top .image[data-v-ece3d184]{width:%?30?%;margin-left:%?5?%}.uni-article__comment[data-v-ece3d184]{margin-bottom:%?160?%}.uni-article__comment-title[data-v-ece3d184]{width:100%;line-height:3;font-size:%?28?%;color:#666;background:#f5f5f5;padding-left:%?20?%}.uni-article__comment-centent[data-v-ece3d184]{border-bottom:1px #eee solid;padding:0 %?20?%;padding-left:%?95?%;padding-bottom:%?20?%;font-size:14px;color:#333}.btn-replay[data-v-ece3d184]{color:red;width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:end;-webkit-justify-content:flex-end;justify-content:flex-end}.bottom-content[data-v-ece3d184]{position:fixed;bottom:0;padding:%?20?%;width:100%;left:0}.kong[data-v-ece3d184]{width:100%;height:%?180?%}body.?%PAGE?%[data-v-ece3d184]{background:#fff}',""]),e.exports=t},"5ca4":function(e,t,i){"use strict";var n=i("84f7"),r=i.n(n);r.a},"69a6":function(e,t,i){"use strict";i.r(t);var n=i("01f7"),r=i.n(n);for(var a in n)"default"!==a&&function(e){i.d(t,e,(function(){return n[e]}))}(a);t["default"]=r.a},"84f7":function(e,t,i){var n=i("25aa");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=i("4f06").default;r("26e680e8",n,!0,{sourceMap:!1,shadowMode:!1})},"907d":function(e,t,i){var n=i("5c05");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=i("4f06").default;r("699b7bc2",n,!0,{sourceMap:!1,shadowMode:!1})},"95a4":function(e,t,i){"use strict";i.r(t);var n=i("9b5f"),r=i("69a6");for(var a in r)"default"!==a&&function(e){i.d(t,e,(function(){return r[e]}))}(a);i("a53e");var o,s=i("f0c5"),c=Object(s["a"])(r["default"],n["b"],n["c"],!1,null,"ece3d184",null,!1,n["a"],o);t["default"]=c.exports},"9b5f":function(e,t,i){"use strict";var n={"uni-popup":i("1c89").default},r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-uni-view",{style:{alignContent:"flex-start",width:"100%",padding:"0",flexWrap:"wrap",background:"#fff",display:"flex"}},[i("v-uni-view",{style:{boxShadow:"0 2rpx 16rpx rgba(0,0,0,.3)",borderRadius:"50%",textAlign:"center",bottom:"10%",background:"#fff",width:"60rpx",lineHeight:"60rpx",position:"absolute",right:"5%",height:"60rpx",zIndex:"11"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.reportClick.apply(void 0,arguments)}}},[i("span",{staticClass:"icon iconfont icon-zhangjie18",style:{color:"#000"}})]),i("v-uni-swiper",{staticClass:"swiper",style:{width:"100%",background:"#fff",height:"360rpx"},attrs:{"indicator-dots":!1,autoplay:!1,circular:!1,"indicator-active-color":"#000000","indicator-color":"rgba(0, 0, 0, .3)",duration:500,interval:5e3,vertical:!1}},e._l(e.swiperList,(function(t,n){return i("v-uni-swiper-item",{key:n,style:{width:"100%",background:"#fff",height:"360rpx"}},["http"==t.substring(0,4)?i("v-uni-image",{style:{width:"100%",objectFit:"cover",display:"block",height:"360rpx"},attrs:{mode:"aspectFill",src:t},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.imgView2(t)}}}):i("v-uni-image",{style:{width:"100%",objectFit:"cover",display:"block",height:"360rpx"},attrs:{mode:"aspectFill",src:e.baseUrl+t},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.imgView2(e.baseUrl+t)}}})],1)})),1),i("v-uni-view",{style:{margin:"20rpx auto 0",borderRadius:"20rpx 20rpx 0 0",textAlign:"center",background:"#fff",width:"calc(100% - 48rpx)",fontSize:"32rpx",lineHeight:"88rpx"}},[e._v(e._s(e.forum.title))]),i("v-uni-view",{style:{width:"calc(100% - 48rpx)",margin:"0 auto",fontSize:"28rpx",color:"#888",textAlign:"center",background:"#fff"}},[i("span",{staticClass:"icon iconfont icon-touxiang18",style:{padding:"0 20rpx 0 0"}}),i("span",{style:{padding:"0 20rpx 0 0"}},[e._v("发布人：")]),i("span",{style:{padding:"0 20rpx 0 0"}},[e._v(e._s(e.forum.userid!=e.userid&&1==e.forum.isanon?"匿名":e.forum.username))])]),i("v-uni-view",{staticClass:"operateView",style:{margin:"40rpx auto 0",alignItems:"center",background:"none",display:"flex",width:"calc(100% - 48rpx)",fontSize:"30rpx",justifyContent:"center",order:"2"}},[e.likeType?e._e():i("v-uni-view",{style:{padding:"20rpx 40rpx",margin:"0 20rpx 0 0",color:"#666",borderRadius:"20rpx",textAlign:"center",background:"#999",width:"auto"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.likeClick.apply(void 0,arguments)}}},[i("span",{staticClass:"icon iconfont icon-zan10",style:{color:"#fff"}}),i("span",{style:{color:"#fff"}},[e._v("赞("+e._s(e.allZan)+")")])]),e.likeType?i("v-uni-view",{style:{width:"auto",padding:"20rpx 40rpx",margin:"0 20rpx 0 0",color:"#fff",borderRadius:"20rpx",background:"#ccc"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.likeClick.apply(void 0,arguments)}}},[i("span",{staticClass:"icon iconfont icon-zan10",style:{color:"#fff"}}),i("span",{style:{color:"#fff"}},[e._v("取消赞("+e._s(e.allZan)+")")])]):e._e(),e.collectType?e._e():i("v-uni-view",{style:{width:"auto",padding:"20rpx 40rpx",color:"#666",borderRadius:"20rpx",textAlign:"center",background:"#999"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.collectClick.apply(void 0,arguments)}}},[i("span",{staticClass:"icon iconfont icon-shoucang10",style:{color:"#fff"}}),i("span",{style:{color:"#fff"}},[e._v("收藏("+e._s(e.allCollect)+")")])]),e.collectType?i("v-uni-view",{style:{width:"auto",padding:"20rpx 40rpx",color:"#fff",borderRadius:"20rpx",background:"#ccc"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.collectClick.apply(void 0,arguments)}}},[i("span",{staticClass:"icon iconfont icon-shoucang10",style:{color:"#fff"}}),i("span",{style:{color:"#fff"}},[e._v("取消收藏("+e._s(e.allCollect)+")")])]):e._e()],1),i("v-uni-view",{style:{border:"0px solid #eee",padding:"20rpx",margin:"0 auto",borderRadius:"0 0 20rpx 20rpx",color:"#666",background:"#fff",width:"calc(100% - 48rpx)",fontSize:"30rpx",lineHeight:"48rpx"}},[i("v-uni-rich-text",{attrs:{nodes:e.forum.content}})],1),i("v-uni-view",{style:{width:"calc(100% - 48rpx)",margin:"40rpx auto 168rpx",background:"none",order:"11"}},[e._l(e.commentData,(function(t){return i("v-uni-view",{key:t.id,style:{width:"100%",margin:"0 0 40rpx",borderRadius:"20rpx",background:"#fff"}},[i("v-uni-view",{style:{padding:"20rpx",alignItems:"center",color:"#ccc",justifyContent:"flex-start",display:"flex"}},[i("v-uni-image",{staticClass:"image",style:{width:"60rpx",height:"60rpx"},attrs:{src:e.baseUrl+t.avatarurl,mode:"widthFix"}}),i("v-uni-view",{style:{padding:"0 0 0 20rpx",flexDirection:"column",display:"flex",width:"100%",fontSize:"24rpx",lineHeight:"1",justifyContent:"center"}},[i("v-uni-view",{style:{color:"#000",lineHeight:"2",fontSize:"26rpx"}},[e._v(e._s(t.username))]),i("v-uni-view",{style:{lineHeight:"1",fontSize:"28rpx"}},[e._v(e._s(t.addtime.split(" ")[0]))])],1)],1),i("v-uni-view",{style:{border:"2rpx solid #eee",padding:"0 20rpx 20rpx 100rpx",fontSize:"28rpx",color:"#333",borderWidth:"0 0 2rpx"}},[i("v-uni-rich-text",{style:{color:"#000"},attrs:{nodes:t.content}}),i("v-uni-view",{style:{width:"100%",alignItems:"center",justifyContent:"flex-end",display:"flex"}},[i("v-uni-text",{style:{padding:"6rpx 20rpx",margin:"0 20rpx 0 0",color:"#fff",background:"#999"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.onReplyTap(t.id)}}},[e._v("回复")]),e.userid==t.userid?i("v-uni-text",{style:{border:"0px solid #ccc",padding:"4rpx 20rpx",color:"#666",background:"#ededed"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.delClick(t.id)}}},[e._v("删除")]):e._e()],1)],1),t.childs?i("v-uni-view",{style:{width:"100%",padding:"0 0 0 80rpx"}},e._l(t.childs,(function(t){return i("v-uni-view",{key:t.id,style:{width:"100%"}},[i("v-uni-view",{style:{padding:"20rpx",alignItems:"center",color:"#ccc",justifyContent:"flex-start",display:"flex"}},[i("v-uni-image",{style:{width:"60rpx",height:"60rpx"},attrs:{src:e.baseUrl+t.avatarurl,mode:"widthFix"}}),i("v-uni-view",{style:{padding:"0 0 0 20rpx",flexDirection:"column",display:"flex",width:"100%",fontSize:"24rpx",lineHeight:"1",justifyContent:"center"}},[i("v-uni-view",{style:{color:"#000",lineHeight:"2",fontSize:"26rpx"}},[e._v(e._s(t.username))]),i("v-uni-view",{style:{lineHeight:"1",fontSize:"28rpx"}},[e._v(e._s(t.addtime.split(" ")[0]))])],1)],1),i("v-uni-view",{style:{border:"2rpx solid #eee",padding:"0 20rpx 20rpx 100rpx",fontSize:"28rpx",color:"#333",borderWidth:"0 0 2rpx"}},[i("v-uni-rich-text",{style:{color:"#000"},attrs:{nodes:t.content}}),i("v-uni-view",{style:{width:"100%",alignItems:"center",justifyContent:"flex-end",display:"flex"}},[e.userid==t.userid?i("v-uni-text",{style:{border:"0px solid #ccc",padding:"4rpx 20rpx",color:"#666",background:"#ededed"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.delClick(t.id)}}},[e._v("删除")]):e._e()],1)],1)],1)})),1):e._e()],1)})),i("v-uni-view",{staticClass:"kong"}),i("v-uni-view",{staticClass:"bottom-content"},[i("v-uni-button",{staticClass:"bg-red margin-tb-sm",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onReplyTap(e.forum.id)}}},[e._v("评论")])],1),i("uni-popup",{ref:"reports",staticClass:"popup-content",attrs:{type:"center"}},[i("v-uni-form",{staticClass:"popup-form",staticStyle:{background:"#fff",width:"350px",display:"block","border-radius":"10px",padding:"20px","text-align":"center"}},[i("v-uni-view",[i("v-uni-textarea",{staticStyle:{width:"100%",border:"1px solid #eee","border-radius":"10px","text-align":"left",padding:"10px","font-size":"14px"},attrs:{placeholder:"举报原因"},model:{value:e.reportForm.reason,callback:function(t){e.$set(e.reportForm,"reason",t)},expression:"reportForm.reason"}})],1),i("v-uni-view",{staticStyle:{display:"flex","align-items":"center",padding:"10px 0"}},[e._l(e.picList,(function(t,n){return i("v-uni-image",{key:n,staticStyle:{width:"50px",margin:"0 5px 0 0"},attrs:{src:e.baseUrl+t,mode:"widthFix"},on:{click:function(i){arguments[0]=i=e.$handleEvent(i),e.imgView(t,n)}}})})),i("v-uni-view",{staticStyle:{padding:"0 10px","line-height":"20px",background:"#ccc",color:"#333"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.uploadImg.apply(void 0,arguments)}}},[e._v("上传图片")])],2),i("v-uni-view",{staticClass:"btn-content",staticStyle:{padding:"5px 0"}},[i("v-uni-button",{staticClass:"cu-btn bg-cyan",staticStyle:{margin:"0 10px"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onCloseWinTap.apply(void 0,arguments)}}},[e._v("取消")]),i("v-uni-button",{staticClass:"cu-btn bg-red",staticStyle:{margin:"0 10px"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.onFinishTap.apply(void 0,arguments)}}},[e._v("确认")])],1)],1)],1)],2)],1)},a=[];i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return a})),i.d(t,"a",(function(){return n}))},a53e:function(e,t,i){"use strict";var n=i("907d"),r=i.n(n);r.a},e8e2:function(e,t,i){"use strict";var n=i("4ea4");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,i("28a5"),i("ac6a");var r=n(i("f8c1")),a={name:"userReply",components:{userReply:r.default},props:{digest:{type:Array,default:function(){return{}}}},data:function(){return{newData:{},digestData:[],UNITS:{"年":315576e5,"月":26298e5,"天":864e5,"小时":36e5,"分钟":6e4,"秒":1e3}}},computed:{baseUrl:function(){return this.$base.url}},created:function(){var e=this;this.digest.forEach((function(t,i){console.log(t,i),0===i?e.newData=t:e.digestData.push(t)}))},methods:{format:function(e){var t=this.parse(e),i=Date.now()-t.getTime();if(i<this.UNITS["天"])return this.humanize(i);var n=function(e){return e<10?"0"+e:e};return t.getFullYear()+"-"+n(t.getMonth()+1)+"-"+n(t.getDate())+" "+n(t.getHours())+":"+n(t.getMinutes())},humanize:function(e){var t="";for(var i in this.UNITS)if(e>=this.UNITS[i]){t=Math.floor(e/this.UNITS[i])+i+"前";break}return t||"刚刚"},parse:function(e){var t=e.split(/[^0-9]/);return new Date(t[0],t[1]-1,t[2],t[3],t[4],t[5])},onReplyTap:function(e){this.$utils.jump("../forum-reply/forum-reply?pid=".concat(e))}}};t.default=a},f8c1:function(e,t,i){"use strict";i.r(t);var n=i("44c6"),r=i("03bc");for(var a in r)"default"!==a&&function(e){i.d(t,e,(function(){return r[e]}))}(a);i("5ca4");var o,s=i("f0c5"),c=Object(s["a"])(r["default"],n["b"],n["c"],!1,null,"390f2180",null,!1,n["a"],o);t["default"]=c.exports}}]);